import { EnvironmentProviders, makeEnvironmentProviders } from '@angular/core';
import { Configuration } from './configuration';
import { getRuntimeConfig } from '../../main';

export function provideApiModule(): EnvironmentProviders {
    return makeEnvironmentProviders([
        {
            provide: Configuration,
            useFactory: () => {
                const config = getRuntimeConfig();
                console.log('provideApiModule baseUrl', config.apiBaseUrl);
                return new Configuration({ basePath: config.apiBaseUrl });
            },
        }
    ]);
}