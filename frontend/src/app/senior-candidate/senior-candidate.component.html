<form *ngIf="ratingForm" [formGroup]="ratingForm" class="rating-form">
  <mat-form-field class="full-width mail-senior">
    <input matInput formControlName="email" placeholder="Your email" />
  </mat-form-field>

  <div class="button-group">
    <button mat-raised-button color="accent" (click)="save()" class="buttons">Save</button>
    <button mat-raised-button color="accent" (click)="onSubmit()" [disabled]="!ratingForm.valid" class="buttons">Submit</button>
  </div>

  <ng-container *ngFor="let category of categories">
    <h2 class="category-title">{{ category }}</h2>
    <ng-container *ngFor="let rating of getRatingsOfCategory(category); let index = index">
      <div class="rating-card">
        <p class="question">{{ rating.question }}</p>

        <div class="inputs">
          <mat-form-field class="full-width">
            <textarea matInput [formControlName]="'response_' + rating.ratingCardId" placeholder="Your answer"></textarea>
          </mat-form-field>
          <div>
            <mat-checkbox [formControlName]="'not_applicable_' + rating.ratingCardId">
              not applicable
            </mat-checkbox>
            <app-rating-slider [formControlName]="'rating_' + rating.ratingCardId"></app-rating-slider>
          </div>
        </div>
      </div>
    </ng-container>
  </ng-container>
</form>
